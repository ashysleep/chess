(()=>{"use strict";const t=JSON.parse('[{"nickname":"TORONTOTOKYO","pts":10000,"color":"white","gametime":30,"time":"2:05","dataclose":false,"password":"","datafilter":"fast30","id":0},{"nickname":"Pudge","pts":2133,"color":"black","gametime":1,"time":"12:31","dataclose":false,"password":"","datafilter":"superfast","id":1},{"nickname":"Techies","pts":2281,"color":"random","gametime":45,"time":"15:44","dataclose":true,"password":"123qwe","img":"img/techies.png","datafilter":"fast30","id":2},{"nickname":"Axe","pts":1211,"color":"white","gametime":10,"time":"28:11","dataclose":false,"password":"","datafilter":"blitz8","id":3},{"nickname":"BillyHerington","pts":300,"color":"black","gametime":5,"time":"1:31","dataclose":false,"password":"","datafilter":"blitz3","id":4},{"nickname":"shershen","pts":500,"color":"random","gametime":15,"time":"3:33","dataclose":true,"password":"111","img":"img/ava4.png","datafilter":"fast","id":5},{"nickname":"co$trat","pts":322,"color":"random","gametime":15,"time":"2:14","dataclose":true,"password":"111","img":"img/ava1.png","datafilter":"fast","id":6}]');let e={nickname:"Dima",age:25,id:"7",pts:151},a=document.querySelector(".page__create-game_button"),n=document.querySelector(".page__right_bot"),l=document.querySelector(".lobby-right-player__wrapper"),o=[];function r(t){return/^[a-z0-9]{0,10}$/i.test(t)}a.addEventListener("click",(function(s){a.remove(),n.insertAdjacentHTML("beforeend",'<div class="page__create-game">\n        <div class="page__page__create-game_area game-create">\n            <label for="change_color" class="label">Цвет</label>\n            <select name="change_color" id="" class="game-create_change-color">\n                <option value="white">Белые</option>\n                <option value="black">Чёрные</option>\n                <option value="random">Случайные</option>\n            </select>\n            <label for="game-time" class="label">Время на игру</label>\n            <select name="game-time" id="" class="game-create_change-time">\n                <option value="1">1 минута</option>\n                <option value="2">2 минуты</option>\n                <option value="3">3 минуты</option>\n                <option value="5">5 минут</option>\n                <option value="10">10 минут</option>\n                <option value="15">15 минут</option>\n                <option value="30">30 минут</option>\n                <option value="45">45 минут</option>\n                <option value="60">1 час</option>\n            </select>\n            <label for="password-lobby" class="label">Пароль</label>\n            <input type="password" autocomplete="new-password" name="password-lobby" id="password-lobby" class=\'game-create_password-lobby\' maxlength="10">\n            <button class="page__create-game_button lobby">Создать лобби</button>\n            <button class="page__create-game_button delete-lobby">Удалить лобби</button>\n            <p class="inactive__text">Используйте только латинские буквы и цифры для пароля</p>\n        </div>\n    </div>'),n.style.border="1px solid #cfcfcf";let i=document.querySelector(".lobby"),c=document.querySelector(".game-create_change-time"),d=document.querySelector(".game-create_change-color");console.log(d);let m,u=document.querySelector(".delete-lobby"),p="superfast",b="blitz3",y="blitz8",_="fast",v="fast30",g="classic";switch(c.value){case 1:return m=p;case 2:return m=b;case 3:return m=y;case 4:return m=_;case 5:return m=v;case 6:return m=g}i.addEventListener("click",(function(a){let n=document.querySelector(".game-create_password-lobby"),s="";if(s=c.value>3?c.value+" минут":1==c.value?c.value+" минута":c.value+" минуты",t.push({nickname:`${e.nickname}`,pts:`${e.pts}`,color:`${d.value}`,gametime:`${c.value}`,time:"12:31",dataclose:!1,password:`${n.value}`,img:"img/ava1.png",datafilter:`${m}`,id:""+(t.length-1)}),r(n.value)){let t;i.style.display="none",u.style.display="block",setTimeout((()=>t=document.querySelectorAll(".datai").length-1),2e3),l.insertAdjacentHTML("afterbegin",`<div class="lobby-right__area_player    lobby-area-player" id='${e.id}' ${r(n.value)&&n.value.length>0?'data-close="true"':'data-close="false"'}>\n              <div class="lobby-area-player__password">\n                  ${0==n.value.length?"":'<i class="fa-solid fa-lock"></i>'}\n              </div>\n              <h3 class="lobby-area-player__nickname"><a href="#" id="playerUrl">${e.nickname.length>10?e.nickname.slice(0,10)+"…":e.nickname}</a></h3>\n              <h3 class="lobby-area-player__raiting">151</h3>\n              <div class="lobby-area-player__block">\n                  <div class="lobby-area-player__color ${d.value}"></div>\n              </div>\n              <h3 class="lobby-area-player__gametime">${s}</h3>\n              <h3 class="lobby-area-player__time">0:00</h3>\n\t\t\t\t\t  <div class="datai" data-i="${e.id}"></div>\n          </div>`),document.querySelector(".inactive__text").style.display="none",o.push(c.value)}else r(n.value)||(document.querySelector(".inactive__text").style.display="block");console.log(t),console.log(d.value)})),u.addEventListener("click",(function(t){let a=document.querySelectorAll(".lobby-area-player");o.pop(),i.style.display="block",u.style.display="none",a.forEach((t=>t.id==e.id&&t.remove())),console.log(o),console.log(d.value)}))}));let s=document.querySelector(".fa-gear"),i=document.querySelector(".settings__block"),c=document.querySelector(".changeTheme");console.log(c),function(){const t=function(){i.classList.toggle("open")};s.addEventListener("click",(function(e){e.stopPropagation(),t()})),document.addEventListener("click",(function(e){let a=e.target,n=a==i||i.contains(a),l=a==s,o=i.classList.contains("open");n||l||!o||t()}))}();let d=document.querySelector(".switch-theme__text");document.addEventListener("DOMContentLoaded",(()=>{localStorage.getItem("theme")?(document.documentElement.setAttribute("theme","dark"),c.setAttribute("checked","checked"),d.textContent="Темная"):(document.documentElement.removeAttribute("theme"),c.removeAttribute("checked"),d.textContent="Светлая")})),c.addEventListener("change",(function(){document.documentElement.hasAttribute("theme")?(document.documentElement.removeAttribute("theme"),localStorage.removeItem("theme"),c.removeAttribute("checked"),localStorage.removeItem("checked"),d.textContent="Светлая"):(document.documentElement.setAttribute("theme","dark"),localStorage.setItem("theme",1),c.setAttribute("checked","checked"),localStorage.setItem("checked",1),d.textContent="Темная")}));let m=document.querySelector(".friends-list-area");let u=document.querySelector(".friend-block__invite");document.querySelector(".friend-list").addEventListener("click",(function(t){m.classList.toggle("open-friends")})),document.addEventListener("DOMContentLoaded",(()=>{localStorage.getItem("invited")?(u.setAttribute("invited","invited"),u.classList.add("invited")):(u.removeAttribute("invited"),u.classList.remove("invited"))})),document.querySelector(".friends-list-area").addEventListener("click",(function(t){let e=t.target.closest(".friend-block__invite");t.target.hasAttribute("invited")||"friends-list-area__offline"==t.target.parentNode.parentNode.classList?(t.target.removeAttribute("invited"),localStorage.removeItem("invited"),e.classList.remove("invited")):e&&(t.target.setAttribute("invited","invited"),localStorage.setItem("invited",1),t.target.classList.add("invited"))})),document.addEventListener("DOMContentLoaded",(function(t){document.querySelectorAll(".friend-block__invite").forEach((t=>"friends-list-area__offline"==t.parentNode.parentNode.classList?t.classList.add("offline"):t))})),document.querySelector(".close-window").addEventListener("click",(function(){m.classList.remove("open-friends")})),document.querySelector(".lobby-right-player__wrapper").addEventListener("click",(function(e){if(e.target.closest(".lobby-area-player")&&"true"==e.target.closest(".lobby-area-player").dataset.close){let a,n=e.target.dataset.i;return console.log(e.target),console.log(n),a=t[n].gametime>3?"минут":1==t[n].gametime?"минута":"минуты",document.querySelector(".enter-password")?document.querySelector(".enter-password").remove():(document.body.insertAdjacentHTML("beforeend",`\n      <div class="enter-password">\n\t\t\t\t\t<h3 class="enter-password__title">Игрок:</h3>\n\t\t\t\t\t<div class="enter-password__info">\n\t\t\t\t\t\t<span class="close-window" id="enterPasswordClose"></span>\n\t\t\t\t\t\t<a href=""><img src="${t[n].img}" alt="" class="enter-password__ava"></a>\n\t\t\t\t\t\t<div class="enter-password__text">\n\t\t\t\t\t\t\t<h3 class="enter-password__text_nickname"><a href="#" id="playerUrl">${t[n].nickname}</a></h3>\t\n\t\t\t\t\t\t\t<h3 class="enter-password__text_raiting">${t[n].pts}</h3>\n\t\t\t\t\t\t\t<div class="lobby-area-player__block uniq">\n\t\t\t\t\t\t\t\t<div class="lobby-area-player__color ${t[n].color}"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h3 class="enter-password__text_gametime">${t[n].gametime} ${a}</h3>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<label for="password-lobby" class="label">Введите пароль</label>\n\t\t\t\t\t<div class="enter-password__row">\n\t\t\t\t\t\t<input type="password" autocomplete="new-password" name="password-lobby" id="password-lobby" class='enter-password__input' maxlength="10">\n\t\t\t\t\t\t<button type="button" class="enter-password__button">Начать</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>`),document.querySelector(".enter-password").classList.add("open-enter-password"),document.querySelector("#enterPasswordClose").addEventListener("click",(function(t){document.querySelector(".enter-password").remove()}))),!1}})),console.log(t[2].dataclose),document.addEventListener("DOMContentLoaded",(function(e){for(let e of t)document.querySelector(".lobby-right-player__wrapper").insertAdjacentHTML("beforeend",`\n    <div class="lobby-right__area_player lobby-area-player" data-filter="${e.datafilter}" data-close="${e.dataclose}">\n\t\t\t\t\t\t\t<div class="lobby-area-player__password">\n\t\t\t\t\t\t\t\t\t\t\t${!0===e.dataclose?'<i class="fa-solid fa-lock"></i>':""}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h3 class="lobby-area-player__nickname"><a href="#" id="playerUrl">${e.nickname}</a></h3>\n\t\t\t\t\t\t\t<h3 class="lobby-area-player__raiting">${e.pts}</h3>\n\t\t\t\t\t\t\t<div class="lobby-area-player__block">\n\t\t\t\t\t\t\t\t<div class="lobby-area-player__color ${e.color}"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h3 class="lobby-area-player__gametime">${e.gametime} минут</h3>\n\t\t\t\t\t\t<h3 class="lobby-area-player__time">${e.time}</h3>\n\t\t\t\t\t  <div class="datai" data-i="${e.id}"></div>\n\n\t\t\t\t</div>\n    `);document.querySelectorAll(".player-one").forEach((t=>t.textContent.length>10?t.textContent=t.textContent.slice(0,10)+"…":t)),document.querySelectorAll(".player-two").forEach((t=>t.textContent.length>10?t.textContent=t.textContent.slice(0,10)+"…":t)),document.querySelectorAll("#playerUrl").forEach((t=>t.textContent.length>10?t.textContent=t.textContent.slice(0,10)+"…":t)),document.querySelectorAll(".friend-block__nickname").forEach((t=>t.textContent.length>16?t.textContent=t.textContent.slice(0,16)+"…":t))}));let p=[];document.querySelector(".lobby-right__filter").addEventListener("click",(function(t){let e=t.target.closest("input[type='checkbox']"),a=e||t.target.closest("label");t.target===a&&e&&(a.hasAttribute("checked")||p.includes(e.dataset.filter)?a.hasAttribute("checked")&&(a.removeAttribute("checked"),p.splice(p.indexOf(e.dataset.filter),1)):(a.setAttribute("checked",""),p.push(e.dataset.filter)))})),document.querySelector(".lobby-right__show").addEventListener("click",(function(e){document.querySelector(".lobby-right-player__wrapper").innerHTML="";for(let e of t)(p.includes(e.datafilter)||0==p.length)&&document.querySelector(".lobby-right-player__wrapper").insertAdjacentHTML("beforeend",`\n    <div class="lobby-right__area_player lobby-area-player" data-filter="${e.datafilter}" data-close="${e.dataclose}">\n\t\t\t\t\t\t\t<div class="lobby-area-player__password">\n\t\t\t\t\t\t\t\t\t\t\t${!0===e.dataclose?'<i class="fa-solid fa-lock"></i>':""}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h3 class="lobby-area-player__nickname"><a href="#" id="playerUrl">${e.nickname}</a></h3>\n\t\t\t\t\t\t\t<h3 class="lobby-area-player__raiting">${e.pts}</h3>\n\t\t\t\t\t\t\t<div class="lobby-area-player__block">\n\t\t\t\t\t\t\t\t<div class="lobby-area-player__color ${e.color}"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h3 class="lobby-area-player__gametime">${e.gametime} минут</h3>\n\t\t\t\t\t\t<h3 class="lobby-area-player__time">${e.time}</h3>\n\t\t\t\t\t  <div class="datai" data-i="${e.id}"></div>\n\n\t\t\t\t</div>\n    `)}))})();